<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø±Ø­Ù„Ø© | Journy - Planner</title>
<link rel="stylesheet" href="style.css">
<style>
.planner-section {
  padding: 60px 50px;
  text-align: center;
}

.hidden {
  display: none;
}

#planForm {
  background: #fff;
  text-align: left;
  padding: 30px 40px;
  margin-top: 30px;
  border-radius: 10px;
  box-shadow: 0 5px 20px rgba(0,0,0,0.1);
  width: 320px;
}

#planForm label {
  font-weight: 600;
  color: #333;
}

#planForm input, #planForm select {
  width: 100%;
  padding: 8px;
  margin-top: 5px;
  margin-bottom: 15px;
  border: 1px solid #ccc;
  border-radius: 6px;
}

#generatedPlan {
  margin-top: 40px;
  display: flex;
  flex-wrap: wrap; /* allows multiple lines if too many days */
  justify-content: center;
  gap: 30px; /* slightly more space between cards */
}

.day-card {
  background: #fff;
  padding: 25px 25px;
  border-radius: 12px;
  box-shadow: 0 5px 20px rgba(0,0,0,0.15);
  width: 300px; /* wider card */
  text-align: left;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.day-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 25px rgba(0,0,0,0.2);
}

.day-card h4 {
  color: #ff6b00;
  margin-bottom: 12px;
  font-size: 20px;
}

.day-card ul {
  margin: 0;
  padding-left: 20px;
  color: #555;
  line-height: 1.5;
}


.btn-small {
  margin-top: 10px;
  display: inline-block;
}

.btn {
  padding: 10px 20px;
  background: #ff6b00;
  color: #fff;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-size: 16px;
}

.btn:hover {
  background: #ff8533;
}
</style>
</head>
<body>
<header>
  <nav>
    <div class="logo">Ø±Ø­Ù„Ø© | Journy</div>
    <ul class="nav-links">
      <li><a href="index.html">Home</a></li>
      <li><a href="events.html">Events</a></li>
      <li><a href="planner.html" class="active">Planner</a></li>
      <li><a href="reservations.html">Reservations</a></li>
      <li><a href="login.html">Log Out</a></li>
    </ul>
  </nav>
</header>

<main>
  <section class="planner-section">
    <div id="plannerIntro">
      <h2>Plan Your Next Journey</h2>
      <p>You donâ€™t have a plan yet. Start creating your trip below!</p>
      <button class="btn" onclick="showForm()">Create New Plan</button><br>
    </div>

    <!-- Hidden Form -->
    <div id="planForm" class="hidden">
      <h3>Create Your Plan</h3>
      <form id="createPlanForm">
        <label for="days">Number of Days:</label>
        <input type="number" id="days" min="1" placeholder="e.g. 3" required>

        <label for="cities">Select Cities:</label>
        <select id="cities">
          <option value="Riyadh">Riyadh</option>
          <option value="Jeddah">Jeddah</option>
          <option value="Dammam">Dammam</option>
        </select>

        <label for="preferences">Preferences:</label>
        <select id="preferences">
          <option value="culture">Culture</option>
          <option value="shopping">Shopping</option>
          <option value="food">Food</option>
          <option value="sports">Sports</option>
        </select>

        <button type="submit" class="btn-small">Generate Plan</button>
      </form>
    </div>

    <!-- Generated Plan Display -->
    <div id="generatedPlan" class="hidden"></div>

    <!-- Accept & Pay Button -->
    <div id="acceptSection" class="hidden" style="text-align: center; margin-top: 20px;">
      <button class="btn" onclick="acceptPlan()">Accept & Pay</button>
    </div>
  </section>
</main>

<footer>
  <p>&copy; 2025 Ø±Ø­Ù„Ø© | Journy â€” Designed with love for Saudi Arabia ðŸ‡¸ðŸ‡¦</p>
</footer>

<script>
const hotelOptions = {
  "Riyadh": ["The Ritz-Carlton Riyadh", "Diriyah Gate Hotel", "Nofa Boutique Resort"],
  "Jeddah": ["Jeddah Hilton", "W Jeddah", "Rosewood Jeddah"],
  "Dammam": ["Park Hyatt Dammam", "Sheraton Dammam Hotel & Convention Center", "Novotel Al Khobar"]
};

const restaurantOptions = {
  "Riyadh": ["Nozomi Riyadh (Japanese)", "Spazio 77 (Italian fine dining)", "Al Orjouan (Middle Eastern)"],
  "Jeddah": ["Al-Nakheel (Seafood)", "Toki (Asian Fusion)", "Shababeek (Local favorites)"],
  "Dammam": ["Bukhara (Indian Cuisine)", "Fusion (Modern international)", "Sushi Yoshi (Japanese)"]
};

const eventOptions = {
  "Riyadh": ["National Museum of Saudi Arabia", "Kingdom Center Sky Bridge", "Edge of the World Hike"],
  "Jeddah": ["Saudi F1 Grand Prix", "Jeddah Corniche Sunset Walk", "Historic Al-Balad Tour"],
  "Dammam": ["Half Moon Bay Beach Day", "Scitech Museum Exploration", "Marjan Island Outdoor Activities"]
};

document.getElementById('createPlanForm').addEventListener('submit', function(e) {
  e.preventDefault();

  const days = parseInt(document.getElementById('days').value);
  const city = document.getElementById('cities').value;

  const formSection = document.getElementById('planForm');
  const introSection = document.getElementById('plannerIntro');
  const planDiv = document.getElementById('generatedPlan');

  // Fade out form and intro
  formSection.style.transition = 'opacity 0.5s ease';
  introSection.style.transition = 'opacity 0.5s ease';
  formSection.style.opacity = '0';
  introSection.style.opacity = '0';

  setTimeout(() => {
    formSection.classList.add('hidden');
    formSection.style.display = 'none';
    introSection.classList.add('hidden');
    introSection.style.display = 'none';

    // Generate plan cards
    let planHTML = '';
    for (let i = 1; i <= days; i++) {
      const hotel = hotelOptions[city] ? hotelOptions[city][0] : "No hotel";
      const restaurant = restaurantOptions[city] ? restaurantOptions[city][0] : "No restaurant";
      const event = eventOptions[city] ? eventOptions[city][0] : "No event";

      planHTML += `
        <div class="day-card" id="day-${i}">
          <h4>Day ${i} in ${city}</h4>
          <ul>
            <li>Hotel: <strong>${hotel}</strong></li>
            <li>Event: ${event} <a href="event-details.html" class="btn-small">View Details</a></li>
            <li>Restaurant: ${restaurant}</li>
          </ul>
          <button class="edit-btn btn-small" onclick="editDay(${i})">Edit</button>
          <button class="delete-btn btn-small" onclick="deleteDay(${i})">Delete</button>
        </div>
      `;
    }

    planDiv.innerHTML = planHTML;
    planDiv.classList.remove('hidden');
    planDiv.style.opacity = '0';
    planDiv.style.transition = 'opacity 0.5s ease';
    setTimeout(() => planDiv.style.opacity = '1', 50);

    // Show Accept & Pay button
    const acceptSection = document.getElementById('acceptSection');
    acceptSection.classList.remove('hidden');
    acceptSection.style.opacity = '0';
    acceptSection.style.transition = 'opacity 0.5s ease';
    setTimeout(() => acceptSection.style.opacity = '1', 50);

  }, 500);
});

function showForm() {
  const form = document.getElementById('planForm');
  form.classList.remove('hidden');
  form.style.display = 'inline-block';
  form.style.opacity = '1';
  form.scrollIntoView({ behavior: 'smooth' });
}

function deleteDay(dayNumber) {
  const dayCard = document.getElementById(`day-${dayNumber}`);
  if (dayCard) dayCard.remove();
}

function editDay(dayNumber) {
  const dayCard = document.getElementById(`day-${dayNumber}`);
  if (!dayCard) return;

  const newHotel = prompt("Enter hotel:", dayCard.querySelector("li:nth-child(1) strong").innerText);
  const newEvent = prompt("Enter event:", dayCard.querySelector("li:nth-child(2)").innerText.replace("Event: ", ""));
  const newRestaurant = prompt("Enter restaurant:", dayCard.querySelector("li:nth-child(3)").innerText.replace("Restaurant: ", ""));

  dayCard.querySelector("li:nth-child(1) strong").innerText = newHotel;
  dayCard.querySelector("li:nth-child(2)").innerText = "Event: " + newEvent;
  dayCard.querySelector("li:nth-child(3)").innerText = "Restaurant: " + newRestaurant;
}

function acceptPlan() {
  // Optional: summarize plan before payment
  const dayCards = document.querySelectorAll('.day-card');
  let summary = "payment successful !";
  alert(summary);

}
</script>

</body>
</html>
